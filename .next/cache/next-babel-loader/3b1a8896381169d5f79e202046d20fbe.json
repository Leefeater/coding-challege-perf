{"ast":null,"code":"import _Object$defineProperty from \"@babel/runtime-corejs2/core-js/object/define-property\";\nimport _Object$defineProperties from \"@babel/runtime-corejs2/core-js/object/define-properties\";\nimport _Object$getOwnPropertyDescriptors from \"@babel/runtime-corejs2/core-js/object/get-own-property-descriptors\";\nimport _Object$getOwnPropertyDescriptor from \"@babel/runtime-corejs2/core-js/object/get-own-property-descriptor\";\nimport _Object$getOwnPropertySymbols from \"@babel/runtime-corejs2/core-js/object/get-own-property-symbols\";\nimport _Object$keys from \"@babel/runtime-corejs2/core-js/object/keys\";\nimport _regeneratorRuntime from \"@babel/runtime-corejs2/regenerator\";\nimport _defineProperty from \"@babel/runtime-corejs2/helpers/esm/defineProperty\";\nimport _classCallCheck from \"@babel/runtime-corejs2/helpers/esm/classCallCheck\";\nimport _createClass from \"@babel/runtime-corejs2/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"@babel/runtime-corejs2/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"@babel/runtime-corejs2/helpers/esm/getPrototypeOf\";\nimport _assertThisInitialized from \"@babel/runtime-corejs2/helpers/esm/assertThisInitialized\";\nimport _inherits from \"@babel/runtime-corejs2/helpers/esm/inherits\";\nvar _jsxFileName = \"/Users/nhargitt/Documents/convertly/janky2/app/Blog/index.js\";\nvar __jsx = React.createElement;\n\nfunction ownKeys(object, enumerableOnly) { var keys = _Object$keys(object); if (_Object$getOwnPropertySymbols) { var symbols = _Object$getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return _Object$getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (_Object$getOwnPropertyDescriptors) { _Object$defineProperties(target, _Object$getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { _Object$defineProperty(target, key, _Object$getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nimport React from 'react';\nimport { getAllGraphPosts, getGraphPost } from \"../utils/graph\";\nimport { BlogPostPreview } from \"./BlogPostPreview\";\nimport styled from 'styled-components';\nvar BlogWrapper = styled.div.withConfig({\n  displayName: \"Blog__BlogWrapper\",\n  componentId: \"cpre2j-0\"\n})([\"display:grid;grid-auto-rows:400px;grid-template-columns:repeat(3,30%);grid-gap:40px 40px;width:100vw;padding:40px;\"]);\nexport var Blog = /*#__PURE__*/function (_React$Component) {\n  _inherits(Blog, _React$Component);\n\n  function Blog(props) {\n    var _this;\n\n    _classCallCheck(this, Blog);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(Blog).call(this, props));\n    _this.state = {\n      blogPostsIds: [],\n      siteId: \"a402fab0-dfc9-11e9-815b-41f22eba7175\",\n      activeId: false,\n      blogPosts: {}\n    };\n    _this.fetchBlogPost = _this.fetchBlogPost.bind(_assertThisInitialized(_this));\n    _this.updateActiveId = _this.updateActiveId.bind(_assertThisInitialized(_this));\n    return _this;\n  }\n\n  _createClass(Blog, [{\n    key: \"getBlogPostsIds\",\n    value: function getBlogPostsIds() {\n      var _this2 = this;\n\n      getAllGraphPosts().then(function (res) {\n        _this2.setState({\n          blogPostsIds: res.blogPosts\n        });\n      });\n    }\n  }, {\n    key: \"fetchBlogPost\",\n    value: function fetchBlogPost(id) {\n      var blogPost;\n      return _regeneratorRuntime.async(function fetchBlogPost$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              return _context.abrupt(\"return\", false);\n\n            case 3:\n              _context.next = 5;\n              return _regeneratorRuntime.awrap(getGraphPost(id));\n\n            case 5:\n              blogPost = _context.sent;\n              this.setState(function (prevState) {\n                var posts = _objectSpread({}, prevState.blogPosts);\n\n                posts[id] = blogPost;\n              });\n              return _context.abrupt(\"return\", blogPost);\n\n            case 8:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, null, this);\n    }\n  }, {\n    key: \"updateActiveId\",\n    value: function updateActiveId(id) {\n      this.setState({\n        activeId: id\n      });\n    }\n  }, {\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      this.getBlogPostsIds();\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this3 = this;\n\n      return __jsx(BlogWrapper, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 69\n        },\n        __self: this\n      }, this.state.blogPostsIds.map(function (id, index) {\n        return __jsx(BlogPostPreview, {\n          id: id,\n          siteId: _this3.state.siteId,\n          activeId: _this3.state.activeId,\n          updateActiveId: _this3.updateActiveId,\n          index: index,\n          fetchBlogPost: _this3.fetchBlogPost,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 72\n          },\n          __self: this\n        });\n      }));\n    }\n  }]);\n\n  return Blog;\n}(React.Component);","map":{"version":3,"sources":["/Users/nhargitt/Documents/convertly/janky2/app/Blog/index.js"],"names":["React","getAllGraphPosts","getGraphPost","BlogPostPreview","styled","BlogWrapper","div","Blog","props","state","blogPostsIds","siteId","activeId","blogPosts","fetchBlogPost","bind","updateActiveId","then","res","setState","id","blogPost","prevState","posts","getBlogPostsIds","map","index","Component"],"mappings":";;;;;;;;;;;;;;;;;;;;;AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,SAAQC,gBAAR,EAA0BC,YAA1B,QAA6C,gBAA7C;AACA,SAAQC,eAAR,QAA8B,mBAA9B;AACA,OAAOC,MAAP,MAAmB,mBAAnB;AAIA,IAAMC,WAAW,GAAGD,MAAM,CAACE,GAAV;AAAA;AAAA;AAAA,0HAAjB;AASA,WAAaC,IAAb;AAAA;;AAGI,gBAAYC,KAAZ,EAAmB;AAAA;;AAAA;;AACf,8EAAMA,KAAN;AAGA,UAAKC,KAAL,GAAa;AACTC,MAAAA,YAAY,EAAE,EADL;AAETC,MAAAA,MAAM,EAAE,sCAFC;AAGTC,MAAAA,QAAQ,EAAE,KAHD;AAITC,MAAAA,SAAS,EAAE;AAJF,KAAb;AAOA,UAAKC,aAAL,GAAqB,MAAKA,aAAL,CAAmBC,IAAnB,+BAArB;AACA,UAAKC,cAAL,GAAsB,MAAKA,cAAL,CAAoBD,IAApB,+BAAtB;AAZe;AAalB;;AAhBL;AAAA;AAAA,sCAkBsB;AAAA;;AAEdd,MAAAA,gBAAgB,GAAGgB,IAAnB,CAAyB,UAAAC,GAAG,EAAI;AAC5B,QAAA,MAAI,CAACC,QAAL,CAAc;AAACT,UAAAA,YAAY,EAACQ,GAAG,CAACL;AAAlB,SAAd;AACH,OAFD;AAIH;AAxBL;AAAA;AAAA,kCA0BwBO,EA1BxB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,+CA2Be,KA3Bf;;AAAA;AAAA;AAAA,+CA8B+BlB,YAAY,CAACkB,EAAD,CA9B3C;;AAAA;AA8BcC,cAAAA,QA9Bd;AA+BQ,mBAAKF,QAAL,CAAc,UAACG,SAAD,EAAe;AACrB,oBAAIC,KAAK,qBAAOD,SAAS,CAACT,SAAjB,CAAT;;AACAU,gBAAAA,KAAK,CAACH,EAAD,CAAL,GAAYC,QAAZ;AACH,eAHL;AA/BR,+CAqCeA,QArCf;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,mCAwCmBD,EAxCnB,EAwCuB;AACf,WAAKD,QAAL,CAAc;AAACP,QAAAA,QAAQ,EAAEQ;AAAX,OAAd;AACH;AA1CL;AAAA;AAAA,wCA4CwB;AAChB,WAAKI,eAAL;AACH;AA9CL;AAAA;AAAA,6BAgDa;AAAA;;AAGL,aACI,MAAC,WAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SAEQ,KAAKf,KAAL,CAAWC,YAAX,CAAwBe,GAAxB,CAA4B,UAACL,EAAD,EAAKM,KAAL,EAAe;AACvC,eAAQ,MAAC,eAAD;AAAiB,UAAA,EAAE,EAAEN,EAArB;AAAyB,UAAA,MAAM,EAAE,MAAI,CAACX,KAAL,CAAWE,MAA5C;AAAoD,UAAA,QAAQ,EAAE,MAAI,CAACF,KAAL,CAAWG,QAAzE;AACiB,UAAA,cAAc,EAAE,MAAI,CAACI,cADtC;AACsD,UAAA,KAAK,EAAEU,KAD7D;AAEiB,UAAA,aAAa,EAAE,MAAI,CAACZ,aAFrC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,UAAR;AAGH,OAJD,CAFR,CADJ;AAcH;AAjEL;;AAAA;AAAA,EAA0Bd,KAAK,CAAC2B,SAAhC","sourcesContent":["import React from 'react';\nimport {getAllGraphPosts, getGraphPost} from \"../utils/graph\";\nimport {BlogPostPreview} from \"./BlogPostPreview\";\nimport styled from 'styled-components';\n\n\n\nconst BlogWrapper = styled.div`\n    display: grid;\n    grid-auto-rows: 400px;\n    grid-template-columns: repeat(3,30%);\n    grid-gap: 40px 40px;\n    width: 100vw;\n    padding: 40px;\n`\n\nexport class Blog extends React.Component {\n\n\n    constructor(props) {\n        super(props);\n\n\n        this.state = {\n            blogPostsIds: [],\n            siteId: \"a402fab0-dfc9-11e9-815b-41f22eba7175\",\n            activeId: false,\n            blogPosts: {}\n        }\n\n        this.fetchBlogPost = this.fetchBlogPost.bind(this);\n        this.updateActiveId = this.updateActiveId.bind(this);\n    }\n\n    getBlogPostsIds() {\n\n        getAllGraphPosts().then( res => {\n            this.setState({blogPostsIds:res.blogPosts})\n        })\n\n    }\n\n    async fetchBlogPost(id) {\n        return false;\n        if(this.state.blogPosts[id]) return this.state.blogPosts[id]\n\n        const blogPost = await getGraphPost(id)\n        this.setState((prevState) => {\n                let posts = {...prevState.blogPosts}\n                posts[id] = blogPost;\n            }\n         );\n\n        return blogPost\n    }\n\n    updateActiveId(id) {\n        this.setState({activeId: id})\n    }\n\n    componentDidMount() {\n        this.getBlogPostsIds()\n    }\n\n    render() {\n\n\n        return (\n            <BlogWrapper>\n                {\n                    this.state.blogPostsIds.map((id, index) => {\n                        return (<BlogPostPreview id={id} siteId={this.state.siteId} activeId={this.state.activeId}\n                                                 updateActiveId={this.updateActiveId} index={index}\n                                                 fetchBlogPost={this.fetchBlogPost}/>)\n                    })\n                }\n            </BlogWrapper>\n\n        )\n\n\n    }\n\n\n}"]},"metadata":{},"sourceType":"module"}